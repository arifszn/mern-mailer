{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","connect","actions","props","name","description","amount","stripeKey","process","className","Header","this","authReducer","href","key","credits","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","renderContent","Component","state","Landing","style","textAlign","Dashboard","SurveyNew","useEffect","exact","path","component","combineReducers","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDom","render","document","querySelector"],"mappings":"gZAGaA,EAAY,WACrB,8CAAO,WAAOC,GAAP,eAAAC,EAAA,sEACeC,IAAMC,IAAI,qBADzB,OACGC,EADH,OAGHJ,EAAS,CAACK,KCPQ,aDOUC,QAASF,EAAIG,OAHtC,2CAAP,uDAOSC,EAAc,SAACC,GACxB,8CAAO,WAAOT,GAAP,eAAAC,EAAA,sEACeC,IAAMQ,KAAK,cAAeD,GADzC,OACGL,EADH,OAGHJ,EAAS,CAACK,KCfQ,aDeUC,QAASF,EAAIG,OAHtC,2CAAP,uDESWI,cAAQ,KAAMC,EAAdD,EAhBE,SAACE,GACd,OACI,kBAAC,IAAD,CACIC,KAAK,cACLC,YAAY,wBACZC,OAAQ,IACRP,MAAO,SAAAA,GAAK,OAAII,EAAML,YAAYC,IAClCQ,UAAWC,8CAEX,4BAAQC,UAAU,6BAAlB,mBCTNC,E,8KAEE,OAAQC,KAAKR,MAAMS,aACf,KAAK,KACD,OACJ,KAAK,EAED,OAAO,wBAAIH,UAAU,YAAW,uBAAGA,UAAU,WAAWI,KAAK,gBAAe,4BAAQJ,UAAU,kCAAlB,uBAChF,QACI,MAAO,CACH,wBAAIK,IAAI,IAAIL,UAAU,eAAc,uBAAGA,UAAU,YAAb,YAAkCE,KAAKR,MAAMS,YAAYG,UAC7F,wBAAID,IAAI,IAAIL,UAAU,YAAW,uBAAGA,UAAU,YAAW,kBAAC,EAAD,QACzD,wBAAIK,IAAI,IAAIL,UAAU,YAAW,uBAAGA,UAAU,WAAWI,KAAK,eAAc,4BAAQJ,UAAU,uCAAlB,gB,+BAMxF,OACI,yBAAKA,UAAU,+CACX,kBAAC,IAAD,CAAMO,GAAIL,KAAKR,MAAMS,YAAc,WAAa,IAC3CH,UAAU,gBADf,eAGA,4BAAQA,UAAU,iBAAiBd,KAAK,SAASsB,cAAY,WAAWC,cAAY,0BAA0BC,gBAAc,yBAAyBC,gBAAc,QAAQC,aAAW,qBAClL,0BAAMZ,UAAU,yBAGpB,yBAAKA,UAAU,2BAA2Ba,GAAG,0BACzC,wBAAIb,UAAU,sBACTE,KAAKY,uB,GA7BTC,aA2CNvB,mBANf,SAAwBwB,GACpB,MAAO,CACHb,YAAaa,EAAMb,eAIZX,CAAwBS,GCnCxBgB,EAXC,WACZ,OACI,yBAAKC,MAAO,CAACC,UAAW,WACpB,mCADJ,qBCGFC,EAAY,kBAAM,0CAClBC,EAAY,kBAAM,0CAqBT7B,cAAQ,KAAMC,EAAdD,EAnBH,SAACE,GAKT,OAJA4B,qBAAU,WACN5B,EAAMd,cACP,IAGC,yBAAKoB,UAAU,aACX,kBAAC,IAAD,KACI,6BACI,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOuB,OAAK,EAACC,KAAK,IAAIC,UAAWR,IACjC,kBAAC,IAAD,CAAOM,OAAK,EAACC,KAAK,WAAWC,UAAWL,IACxC,kBAAC,IAAD,CAAOI,KAAK,eAAeC,UAAWJ,UCnB3CK,cAAgB,CAC3BvB,YCFW,WAAgC,IAAvBa,EAAsB,uDAAd,KAAMW,EAAQ,uCAE1C,OAAQA,EAAOzC,MACX,INLkB,aMMd,OAAOyC,EAAOxC,UAAW,EAC7B,QACI,OAAO6B,M,QCAbY,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAExDC,IAASC,OACL,kBAAC,IAAD,CAAUN,MAAOA,GACb,kBAAC,EAAD,OAENO,SAASC,cAAc,Y","file":"static/js/main.4a8f5858.chunk.js","sourcesContent":["import axios from 'axios';\nimport {FETCH_USER} from './types'\n\nexport const fetchUser = () => {\n    return async (dispatch) => {\n        const res = await axios.get('/api/current_user');\n\n        dispatch({type: FETCH_USER, payload: res.data});\n    };\n};\n\nexport const handleToken = (token) => {\n    return async (dispatch) => {\n        const res = await axios.post('/api/stripe', token);\n\n        dispatch({type: FETCH_USER, payload: res.data});\n    };\n};","export const FETCH_USER = 'fetch_user';","import React from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions/index';\r\n\r\nconst Payments = (props) => {\r\n    return (\r\n        <StripeCheckout\r\n            name=\"Mern Mailer\"\r\n            description=\"$5 for 5 email credit\"\r\n            amount={500} // cents\r\n            token={token => props.handleToken(token)}\r\n            stripeKey={process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY}\r\n        >\r\n            <button className=\"btn btn-success btn-block\">\r\n                Add Credits\r\n            </button>\r\n        </StripeCheckout>\r\n    );\r\n};\r\n\r\nexport default connect(null, actions)(Payments);","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport Payments from './Payments';\n\nclass Header extends Component {\n    renderContent() {\n        switch (this.props.authReducer) {\n            case null:\n                return;\n            case false:\n                \n                return <li className=\"nav-item\"><a className=\"nav-link\" href=\"/auth/google\"><button className=\"btn btn-outline-info btn-block\">Login With Google</button></a></li>;\n            default:\n                return [\n                    <li key=\"2\" className=\"form-inline\"><a className=\"nav-link\">Credits: {this.props.authReducer.credits}</a></li>,\n                    <li key=\"1\" className=\"nav-item\"><a className=\"nav-link\"><Payments/></a></li>,\n                    <li key=\"3\" className=\"nav-item\"><a className=\"nav-link\" href=\"/api/logout\"><button className=\"btn btn-outline-secondary btn-block\">Logout</button></a></li>\n                ];\n        }\n    }\n\n    render() {\n        return (\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n                <Link to={this.props.authReducer ? '/surveys' : '/'}\n                     className=\"navbar-brand\"\n                     >Mern Mailer</Link>\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n\n                <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                    <ul className=\"navbar-nav ml-auto\">\n                        {this.renderContent()}\n                    </ul>\n                </div>\n            </nav>\n        );\n    };\n};\n\nfunction mapStateToProp(state) {\n    return {\n        authReducer: state.authReducer\n    }\n    \n}\nexport default connect(mapStateToProp)(Header);","import React from 'react';\n\nconst Landing = () => {\n    return (\n        <div style={{textAlign: 'center'}}>\n            <h1>HEY</h1>\n            Collect feedback\n        </div>\n        \n    );\n};\n\n\nexport default Landing;","import React, { useEffect } from 'react';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport Header from '../components/Header'\nimport Landing from '../components/Landing'\nimport { connect } from 'react-redux';\nimport * as actions from '../actions/index'\n\nconst Dashboard = () => <h2>Dashboard</h2>\nconst SurveyNew = () => <h2>SurveyNew</h2>\n\nconst App = (props) => {\n    useEffect(() => {\n        props.fetchUser();       \n    }, []);\n\n    return (\n        <div className=\"container\">\n            <BrowserRouter>\n                <div>\n                    <Header/>\n                    <Route exact path=\"/\" component={Landing}/>\n                    <Route exact path=\"/surveys\" component={Dashboard}/>\n                    <Route path=\"/surveys/new\" component={SurveyNew}/>\n                </div>\n            </BrowserRouter>\n        </div>\n    );\n};\n\nexport default connect(null, actions) (App);","import {combineReducers} from 'redux';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n    authReducer: authReducer\n});","import { FETCH_USER } from '../actions/types';\n\nexport default function(state = null, action) {\n    \n    switch (action.type) {\n        case FETCH_USER:\n            return action.payload || false;\n        default:\n            return state;\n    }\n};","import React from 'react';\nimport ReactDom from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport App from './components/App';\nimport reducers from './reducers/index';\nimport reduxThunk from 'redux-thunk';\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\n\nReactDom.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>\n, document.querySelector('#root'));"],"sourceRoot":""}